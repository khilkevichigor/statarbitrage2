# üìä –ë—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥ –¥–ª—è –ü–∞—Ä–Ω–æ–≥–æ –¢—Ä–µ–π–¥–∏–Ω–≥–∞ - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –û–ø–∏—Å–∞–Ω–∏–µ

## üéØ –û–±—â–∏–π –æ–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –ø–∞—Ä–Ω–æ–≥–æ —Ç—Ä–µ–π–¥–∏–Ω–≥–∞ –Ω–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ —Ä–∏—Å–∫–∞ –ø–æ—Ç–µ—Ä–∏ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤. –û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è - **–∑–∞–º–µ–Ω–∏—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö —Å OKX API –Ω–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö** –∏ —É–±—Ä–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–Ω–æ–π —Å–∏–º—É–ª—è—Ü–∏–∏.

## üìã –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### üîß –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### 1. **BacktestView.java** - UI —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥–∞
```
üìÑ –û—Ç–¥–µ–ª—å–Ω–∞—è Vaadin —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ —Å–µ–∫—Ü–∏—è–º–∏:
‚îú‚îÄ‚îÄ üîß –ü–∞–Ω–µ–ª—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –±—ç–∫—Ç–µ—Å—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ –ü–µ—Ä–∏–æ–¥: [01.01.2024] - [31.12.2024] 
‚îÇ   ‚îú‚îÄ‚îÄ –ù–∞—á–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å: [10000 USDT]
‚îÇ   ‚îú‚îÄ‚îÄ –ü–∞—Ä—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: [BTC/ETH, LTC/ETH, ...]
‚îÇ   ‚îî‚îÄ‚îÄ –ö–Ω–æ–ø–∫–∞ [–ó–∞–ø—É—Å—Ç–∏—Ç—å –±—ç–∫—Ç–µ—Å—Ç]
‚îú‚îÄ‚îÄ ‚öôÔ∏è –ü–∞–Ω–µ–ª—å –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏  
‚îÇ   ‚îú‚îÄ‚îÄ –ö–æ–ø–∏—è –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–∑ Settings
‚îÇ   ‚îú‚îÄ‚îÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–∏—Ç—å —Ä–∞–∑–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–∑–∞–≥—Ä—É–∑–∫–∞ presets
‚îú‚îÄ‚îÄ üìä –ü–∞–Ω–µ–ª—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (–≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏)
‚îÇ   ‚îú‚îÄ‚îÄ –¢–µ–∫—É—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å: [23% –∑–∞–≤–µ—Ä—à–µ–Ω–æ]
‚îÇ   ‚îú‚îÄ‚îÄ –ñ–∏–≤—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏ equity curve
‚îÇ   ‚îú‚îÄ‚îÄ –ú–µ—Ç—Ä–∏–∫–∏: –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å, –ø—Ä–æ—Å–∞–¥–∫–∞, Sharpe ratio
‚îÇ   ‚îî‚îÄ‚îÄ –¢–∞–±–ª–∏—Ü–∞ —Å–¥–µ–ª–æ–∫
‚îî‚îÄ‚îÄ üéÆ –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
    ‚îú‚îÄ‚îÄ [–°—Ç–∞—Ä—Ç] [–ü–∞—É–∑–∞] [–°—Ç–æ–ø] [–£—Å–∫–æ—Ä–∏—Ç—å 10x]
    ‚îî‚îÄ‚îÄ –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å—Ç–∞—Ç—É—Å–∞ —Å–∏–º—É–ª—è—Ü–∏–∏
```

#### 2. **BacktestDataService** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏
```java
–§—É–Ω–∫—Ü–∏–∏:
‚îú‚îÄ‚îÄ loadHistoricalData(startDate, endDate, pairs, timeframe)
‚îú‚îÄ‚îÄ –ü–æ—ç—Ç–∞–ø–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å OKX API (–ø–æ –º–µ—Å—è—Ü–∞–º)
‚îú‚îÄ‚îÄ –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ SQLite –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö
‚îî‚îÄ‚îÄ –ü–æ–∫–∞–∑ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≤ UI
```

#### 3. **BacktestEngine** - –æ—Å–Ω–æ–≤–Ω–æ–π –¥–≤–∏–∂–æ–∫ —Å–∏–º—É–ª—è—Ü–∏–∏  
```java
–ü—Ä–æ—Ü–µ—Å—Å:
‚îú‚îÄ‚îÄ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –ø–æ—Ä—Ç—Ñ–µ–ª—è
‚îú‚îÄ‚îÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ BacktestTradingProvider
‚îú‚îÄ‚îÄ –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª –ø–æ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–º –¥–∞–Ω–Ω—ã–º  
‚îú‚îÄ‚îÄ –í—ã–∑–æ–≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
‚îî‚îÄ‚îÄ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
```

#### 4. **BacktestTradingProvider** - –∑–∞–º–µ–Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–≥–æ OKX API
```java
–†–µ–∞–ª–∏–∑—É–µ—Ç TradingProvider interface:
‚îú‚îÄ‚îÄ –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤–º–µ—Å—Ç–æ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–¥–µ–ª–æ–∫
‚îú‚îÄ‚îÄ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –ø–æ—Ä—Ç—Ñ–µ–ª—è
‚îú‚îÄ‚îÄ –°–∏–º—É–ª—è—Ü–∏—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –æ—Ä–¥–µ—Ä–æ–≤ –ø–æ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–º —Ü–µ–Ω–∞–º
‚îú‚îÄ‚îÄ –†–∞—Å—á–µ—Ç –∫–æ–º–∏—Å—Å–∏–π –∏ slippage
‚îî‚îÄ‚îÄ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º–∏ –ø–æ–∑–∏—Ü–∏—è–º–∏
```

#### 5. **BacktestCandleService** - –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö —Å–≤–µ—á–µ–π
```java
–ó–∞–º–µ–Ω—è–µ—Ç OKX API:
‚îú‚îÄ‚îÄ getCandlesForPair(pair, timeframe, timestamp)
‚îú‚îÄ‚îÄ –ß–∏—Ç–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ SQLite –≤–º–µ—Å—Ç–æ API –≤—ã–∑–æ–≤–æ–≤
‚îú‚îÄ‚îÄ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–≤–µ—á–∏ –≤ —Ç–æ–º –∂–µ —Ñ–æ—Ä–º–∞—Ç–µ —á—Ç–æ –∏ OKX
‚îî‚îÄ‚îÄ –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º
```

## üíæ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –ù–æ–≤—ã–µ Entity –∫–ª–∞—Å—Å—ã

#### BacktestRun
```java
@Entity
public class BacktestRun {
    private Long id;
    private String name;                    // "BTC/ETH Strategy Test #1"
    private LocalDateTime startDate;        // 2024-01-01
    private LocalDateTime endDate;          // 2024-12-31  
    private BigDecimal initialBalance;      // 10000 USDT
    private String settingsSnapshot;        // JSON –∫–æ–ø–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫
    private BacktestStatus status;          // RUNNING, COMPLETED, PAUSED, FAILED
    private String resultsJson;             // JSON —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏
    private LocalDateTime createdAt;
    private LocalDateTime completedAt;
}
```

#### BacktestHistoricalData  
```java
@Entity
public class BacktestHistoricalData {
    private Long id;
    private String symbol;                  // "BTC-USDT-SWAP"
    private String timeframe;               // "15m"
    private Long timestamp;                 // Unix timestamp —Å–≤–µ—á–∏
    private String candleJson;              // JSON: {open, high, low, close, volume}
    private LocalDateTime createdAt;        // –ö–æ–≥–¥–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–æ
}

// –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞:
// - symbol + timeframe + timestamp (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π)
// - timestamp (–¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –ø–æ –≤—Ä–µ–º–µ–Ω–∏)
```

#### BacktestTrade
```java  
@Entity
public class BacktestTrade {
    private Long id; 
    private Long backtestRunId;             // –°–≤—è–∑—å —Å BacktestRun
    private String pairName;                // "BTC/ETH"
    private LocalDateTime entryTime;        // –í—Ä–µ–º—è –≤—Ö–æ–¥–∞
    private LocalDateTime exitTime;         // –í—Ä–µ–º—è –≤—ã—Ö–æ–¥–∞ (null –µ—Å–ª–∏ –æ—Ç–∫—Ä—ã—Ç–∞)
    private BigDecimal entryZ;              // Z-score –Ω–∞ –≤—Ö–æ–¥–µ
    private BigDecimal exitZ;               // Z-score –Ω–∞ –≤—ã—Ö–æ–¥–µ
    private BigDecimal longEntryPrice;      // –¶–µ–Ω–∞ –≤—Ö–æ–¥–∞ –¥–ª–∏–Ω–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏
    private BigDecimal shortEntryPrice;     // –¶–µ–Ω–∞ –≤—Ö–æ–¥–∞ –∫–æ—Ä–æ—Ç–∫–æ–π –ø–æ–∑–∏—Ü–∏–∏  
    private BigDecimal longExitPrice;       // –¶–µ–Ω–∞ –≤—ã—Ö–æ–¥–∞ –¥–ª–∏–Ω–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏
    private BigDecimal shortExitPrice;      // –¶–µ–Ω–∞ –≤—ã—Ö–æ–¥–∞ –∫–æ—Ä–æ—Ç–∫–æ–π –ø–æ–∑–∏—Ü–∏–∏
    private BigDecimal allocatedAmount;     // –†–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏ –≤ USDT
    private BigDecimal pnlUsdt;             // –ü—Ä–∏–±—ã–ª—å/—É–±—ã—Ç–æ–∫ –≤ USDT
    private BigDecimal pnlPercent;          // –ü—Ä–∏–±—ã–ª—å/—É–±—ã—Ç–æ–∫ –≤ %
    private BigDecimal feesUsdt;            // –ö–æ–º–∏—Å—Å–∏–∏
    private String exitReason;              // –ü—Ä–∏—á–∏–Ω–∞ –∑–∞–∫—Ä—ã—Ç–∏—è
    private String metadata;                // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (JSON)
}
```

#### BacktestResults
```java
@Entity  
public class BacktestResults {
    private Long id;
    private Long backtestRunId;
    private BigDecimal totalReturn;         // –û–±—â–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å %
    private BigDecimal sharpeRatio;         // –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –®–∞—Ä–ø–∞
    private BigDecimal maxDrawdown;         // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ—Å–∞–¥–∫–∞ %
    private BigDecimal winRate;             // –ü—Ä–æ—Ü–µ–Ω—Ç –ø—Ä–∏–±—ã–ª—å–Ω—ã—Ö —Å–¥–µ–ª–æ–∫
    private Integer totalTrades;            // –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–¥–µ–ª–æ–∫
    private BigDecimal avgTradeReturn;      // –°—Ä–µ–¥–Ω—è—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å —Å–¥–µ–ª–∫–∏
    private BigDecimal volatility;          // –í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å –ø–æ—Ä—Ç—Ñ–µ–ª—è
    private BigDecimal finalBalance;        // –ò—Ç–æ–≥–æ–≤—ã–π –±–∞–ª–∞–Ω—Å
    private String equityCurveJson;         // JSON –º–∞—Å—Å–∏–≤ —Ç–æ—á–µ–∫ equity curve
    private String monthlyReturnsJson;      // JSON –ø–æ–º–µ—Å—è—á–Ω–æ–π –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏
}
```

## üöÄ Workflow –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –±—ç–∫—Ç–µ—Å—Ç–∞

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö (–≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–æ)

```java
BacktestDataService.prepareHistoricalData():
‚îú‚îÄ‚îÄ –ê–Ω–∞–ª–∏–∑ —Ç—Ä–µ–±—É–µ–º–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞ –∏ –ø–∞—Ä
‚îú‚îÄ‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö –≤ –∫–µ—à–µ  
‚îú‚îÄ‚îÄ –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö —Å OKX API:
‚îÇ   ‚îú‚îÄ‚îÄ –†–∞–∑–±–∏–≤–∫–∞ –Ω–∞ –º–µ—Å—è—Ü—ã –¥–ª—è –æ–±—Ö–æ–¥–∞ –ª–∏–º–∏—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø–∞—Ä
‚îÇ   ‚îú‚îÄ‚îÄ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ backtest_historical_data
‚îÇ   ‚îî‚îÄ‚îÄ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤ UI
‚îî‚îÄ‚îÄ –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
```

### 2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±—ç–∫—Ç–µ—Å—Ç–∞

```java
BacktestEngine.initialize():
‚îú‚îÄ‚îÄ –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ BacktestRun
‚îú‚îÄ‚îÄ –°–Ω—è—Ç–∏–µ —Å–Ω–∞–ø—à–æ—Ç–∞ —Ç–µ–∫—É—â–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
‚îú‚îÄ‚îÄ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –ø–æ—Ä—Ç—Ñ–µ–ª—è  
‚îú‚îÄ‚îÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ BacktestTradingProvider
‚îú‚îÄ‚îÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ —Å–∏–º—É–ª—è—Ü–∏–∏
‚îî‚îÄ‚îÄ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ TradingProviderFactory –≤ —Ä–µ–∂–∏–º –±—ç–∫—Ç–µ—Å—Ç–∞
```

### 3. –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª —Å–∏–º—É–ª—è—Ü–∏–∏

```java
BacktestEngine.runSimulation():
while (currentTime <= endTime && !stopped) {
    // 1. –û–±–Ω–æ–≤–ª—è–µ–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è
    currentTime = getNextCandleTime(currentTime);
    
    // 2. –ó–∞–≥—Ä—É–∂–∞–µ–º –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
    BacktestCandleService.setCurrentTime(currentTime);
    
    // 3. –í—ã–∑—ã–≤–∞–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä—ã –ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô:
    FetchPairsProcessor.process();          // –ü–æ–∏—Å–∫ —Ç–æ—Ä–≥–æ–≤—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π
    StartNewTradeProcessor.process();       // –û—Ç–∫—Ä—ã—Ç–∏–µ –Ω–æ–≤—ã—Ö —Å–¥–µ–ª–æ–∫  
    UpdateTradeProcessor.process();         // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–æ–∑–∏—Ü–∏–π
    
    // 4. –ó–∞–ø–∏—Å—ã–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ—Ä—Ç—Ñ–µ–ª—è
    recordPortfolioState(currentTime);
    
    // 5. –û–±–Ω–æ–≤–ª—è–µ–º UI (–∫–∞–∂–¥—ã–µ 100 –∏—Ç–µ—Ä–∞—Ü–∏–π)
    if (iteration % 100 == 0) {
        updateUI();
    }
    
    // 6. –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–º–∞–Ω–¥—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ø–∞—É–∑–∞/—Å—Ç–æ–ø)
    checkUserCommands();
    
    iteration++;
}
```

### 4. –ü–æ—Å—Ç–æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

```java
BacktestEngine.finalize():
‚îú‚îÄ‚îÄ –ó–∞–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π –ø–æ —Ñ–∏–Ω–∞–ª—å–Ω—ã–º —Ü–µ–Ω–∞–º
‚îú‚îÄ‚îÄ –†–∞—Å—á–µ—Ç –∏—Ç–æ–≥–æ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è equity curve –∏ –≥—Ä–∞—Ñ–∏–∫–æ–≤  
‚îú‚îÄ‚îÄ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ BacktestResults
‚îú‚îÄ‚îÄ –≠–∫—Å–ø–æ—Ä—Ç –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –æ—Ç—á–µ—Ç–∞
‚îî‚îÄ‚îÄ –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏
```

## ‚ö° –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –£—Å–∫–æ—Ä–µ–Ω–∏–µ —Å–∏–º—É–ª—è—Ü–∏–∏
```java
–ú–µ—Ç–æ–¥—ã —É—Å–∫–æ—Ä–µ–Ω–∏—è:
‚îú‚îÄ‚îÄ –£–±–∏—Ä–∞–µ–º –≤—Å–µ Thread.sleep() –∏ –∑–∞–¥–µ—Ä–∂–∫–∏
‚îú‚îÄ‚îÄ –û—Ç–∫–ª—é—á–∞–µ–º —Ä–µ–∞–ª—å–Ω—ã–µ API –≤—ã–∑–æ–≤—ã
‚îú‚îÄ‚îÄ –ú–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ–º UI –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (–±–∞—Ç—á–∏–Ω–≥)
‚îú‚îÄ‚îÄ –ö–µ—à–∏—Ä—É–µ–º —á–∞—Å—Ç—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
‚îú‚îÄ‚îÄ –ò—Å–ø–æ–ª—å–∑—É–µ–º –∏–Ω–¥–µ–∫—Å—ã –ë–î –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
‚îî‚îÄ‚îÄ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é
```java
–°—Ç—Ä–∞—Ç–µ–≥–∏–∏:
‚îú‚îÄ‚îÄ –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ—Ä—Ü–∏—è–º–∏ (—Å–∫–æ–ª—å–∑—è—â–µ–µ –æ–∫–Ω–æ)
‚îú‚îÄ‚îÄ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ø–∞–º—è—Ç–∏
‚îú‚îÄ‚îÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã—Ö —Ç–∏–ø–æ–≤ –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ
‚îú‚îÄ‚îÄ –ü—É–ª–∏–Ω–≥ –æ–±—ä–µ–∫—Ç–æ–≤ –¥–ª—è —á–∞—Å—Ç—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
‚îî‚îÄ‚îÄ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏
```

## üí∞ –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π —Ä–∞—Å—á–µ—Ç –ø—Ä–æ—Ñ–∏—Ç–∞

### –ü—Ä–æ–±–ª–µ–º—ã –Ω–∞–∏–≤–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞
```
‚ùå –ù–µ—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ –¥–æ–ø—É—â–µ–Ω–∏—è:
‚îú‚îÄ‚îÄ –ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–æ—á–Ω–æ –ø–æ —Ü–µ–Ω–µ –∑–∞–∫—Ä—ã—Ç–∏—è —Å–≤–µ—á–∏
‚îú‚îÄ‚îÄ –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ bid/ask —Å–ø—Ä–µ–¥–∞
‚îú‚îÄ‚îÄ –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è (slippage)
‚îú‚îÄ‚îÄ –ù–µ —É—á—Ç–µ–Ω—ã –∫–æ–º–∏—Å—Å–∏–∏ –∏ funding fees  
‚îî‚îÄ‚îÄ –†–ï–ó–£–õ–¨–¢–ê–¢: –∑–∞–≤—ã—à–µ–Ω–Ω–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –Ω–∞ 20-50%
```

### –ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–∞—è –º–æ–¥–µ–ª—å –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è ‚úÖ
```java
BacktestTradingProvider.executeOrder():
‚îú‚îÄ‚îÄ –ë–∞–∑–æ–≤–∞—è —Ü–µ–Ω–∞: Close —Ü–µ–Ω–∞ —Ç–µ–∫—É—â–µ–π —Å–≤–µ—á–∏
‚îú‚îÄ‚îÄ + Slippage: 0.05-0.1% (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏)
‚îú‚îÄ‚îÄ + Maker/Taker –∫–æ–º–∏—Å—Å–∏–∏: 0.02-0.05%  
‚îú‚îÄ‚îÄ + Funding fees: 0.01% –≤ –¥–µ–Ω—å –¥–ª—è SWAP –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤
‚îú‚îÄ‚îÄ + Market impact: –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏
‚îú‚îÄ‚îÄ + Bid/Ask —Å–ø—Ä–µ–¥: 0.01-0.03% –¥–ª—è —Ç–æ–ø–æ–≤—ã—Ö –ø–∞—Ä
‚îî‚îÄ‚îÄ –†–ï–ó–£–õ–¨–¢–ê–¢: —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π, —Å–ª–µ–≥–∫–∞ –ø–µ—Å—Å–∏–º–∏—Å—Ç–∏—á–Ω—ã–π –ø—Ä–æ—Ñ–∏—Ç
```

### –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ –ø–æ —Ä–µ–∞–ª—å–Ω—ã–º —Å–¥–µ–ª–∫–∞–º
```java
BacktestCalibrator:
‚îú‚îÄ‚îÄ –ê–Ω–∞–ª–∏–∑ –∏—Å—Ç–æ—Ä–∏–∏ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–¥–µ–ª–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îú‚îÄ‚îÄ –†–∞—Å—á–µ—Ç —Å—Ä–µ–¥–Ω–∏—Ö –∫–æ–º–∏—Å—Å–∏–π –∏ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è  
‚îú‚îÄ‚îÄ –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è
‚îú‚îÄ‚îÄ A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: –±—ç–∫—Ç–µ—Å—Ç vs —Ä–µ–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
‚îî‚îÄ‚îÄ –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–∞—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∞ –¥–ª—è —Ç–æ—á–Ω–æ—Å—Ç–∏
```

## üìä –û—Ç—á–µ—Ç–Ω–æ—Å—Ç—å –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
```java
BacktestMetricsCalculator:
‚îú‚îÄ‚îÄ Total Return: (–§–∏–Ω–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å - –ù–∞—á–∞–ª—å–Ω—ã–π) / –ù–∞—á–∞–ª—å–Ω—ã–π * 100%
‚îú‚îÄ‚îÄ Sharpe Ratio: (–î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å - –ë–µ–∑—Ä–∏—Å–∫–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞) / –í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å  
‚îú‚îÄ‚îÄ Max Drawdown: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ—Å–∞–¥–∫–∞ –æ—Ç –ø–∏–∫–∞
‚îú‚îÄ‚îÄ Win Rate: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–∏–±—ã–ª—å–Ω—ã—Ö —Å–¥–µ–ª–æ–∫ / –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
‚îú‚îÄ‚îÄ Profit Factor: –û–±—â–∞—è –ø—Ä–∏–±—ã–ª—å / –û–±—â–∏–µ —É–±—ã—Ç–∫–∏
‚îú‚îÄ‚îÄ Average Trade: –°—Ä–µ–¥–Ω—è—è –ø—Ä–∏–±—ã–ª—å/—É–±—ã—Ç–æ–∫ –Ω–∞ —Å–¥–µ–ª–∫—É
‚îî‚îÄ‚îÄ Volatility: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –¥–Ω–µ–≤–Ω—ã—Ö –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–µ–π
```

### –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
```java
BacktestChartsService:
‚îú‚îÄ‚îÄ Equity Curve: —Ä–æ—Å—Ç/–ø–∞–¥–µ–Ω–∏–µ –ø–æ—Ä—Ç—Ñ–µ–ª—è –≤–æ –≤—Ä–µ–º–µ–Ω–∏
‚îú‚îÄ‚îÄ Drawdown Chart: –≥—Ä–∞—Ñ–∏–∫ –ø—Ä–æ—Å–∞–¥–æ–∫
‚îú‚îÄ‚îÄ Monthly Returns Heatmap: –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –ø–æ –º–µ—Å—è—Ü–∞–º
‚îú‚îÄ‚îÄ Trade Distribution: –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å–¥–µ–ª–æ–∫  
‚îú‚îÄ‚îÄ Correlation Matrix: –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏ –º–µ–∂–¥—É —Ç–æ—Ä–≥—É–µ–º—ã–º–∏ –ø–∞—Ä–∞–º–∏
‚îî‚îÄ‚îÄ Risk Metrics Dashboard: VaR, CVaR, Beta –∏ –¥—Ä—É–≥–∏–µ
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º

#### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ core –ª–æ–≥–∏–∫–µ:
```java
// –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ - –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö
TradingProviderFactory:
‚îú‚îÄ‚îÄ if (tradingMode == LIVE) return new RealOkxTradingProvider();
‚îú‚îÄ‚îÄ if (tradingMode == SIMULATION) return new SimulationTradingProvider();  
‚îî‚îÄ‚îÄ if (tradingMode == BACKTEST) return new BacktestTradingProvider();

// –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
‚îú‚îÄ‚îÄ FetchPairsProcessor ‚úÖ
‚îú‚îÄ‚îÄ StartNewTradeProcessor ‚úÖ  
‚îú‚îÄ‚îÄ UpdateTradeProcessor ‚úÖ
‚îú‚îÄ‚îÄ ExitStrategyService ‚úÖ
‚îî‚îÄ‚îÄ ZScoreService ‚úÖ (–Ω–æ –±—ã—Å—Ç—Ä–µ–µ - –Ω–µ—Ç Python –∑–∞–¥–µ—Ä–∂–µ–∫)
```

#### –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤:
```java
public enum TradingMode {
    LIVE,           // –†–µ–∞–ª—å–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è
    SIMULATION,     // –°–∏–º—É–ª—è—Ü–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏  
    BACKTEST        // –ë—ã—Å—Ç—Ä—ã–π –±—ç–∫—Ç–µ—Å—Ç –ø–æ –∏—Å—Ç–æ—Ä–∏–∏
}

// –í SettingsService –¥–æ–±–∞–≤–ª—è–µ–º:
private TradingMode currentTradingMode = LIVE;
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–∫
```java
BacktestTimeManager:
‚îú‚îÄ‚îÄ –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ä–µ–∞–ª—å–Ω–æ–≥–æ
‚îú‚îÄ‚îÄ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–º—É –≤—Ä–µ–º–µ–Ω–∏
‚îú‚îÄ‚îÄ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —É—Å–∫–æ—Ä–µ–Ω–∏—è/–∑–∞–º–µ–¥–ª–µ–Ω–∏—è —Å–∏–º—É–ª—è—Ü–∏–∏
‚îú‚îÄ‚îÄ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ checkpoint'–æ–≤ –¥–ª—è –≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
‚îî‚îÄ‚îÄ –í—Ä–µ–º—è –≤ –ª–æ–≥–∞—Ö —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–º—É –≤—Ä–µ–º–µ–Ω–∏
```

## üìà –û–±—ä–µ–º—ã –¥–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –†–∞—Å—á–µ—Ç –æ–±—ä–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞ –≥–æ–¥:

#### –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–≤–µ—á–µ–π –ø–æ —Ç–∞–π–º—Ñ—Ä–µ–π–º–∞–º:
- **1–º**: 525,600 —Å–≤–µ—á–µ–π –∑–∞ –≥–æ–¥
- **5–º**: 105,120 —Å–≤–µ—á–µ–π –∑–∞ –≥–æ–¥  
- **15–º**: 35,040 —Å–≤–µ—á–µ–π –∑–∞ –≥–æ–¥
- **30–º**: 17,520 —Å–≤–µ—á–µ–π –∑–∞ –≥–æ–¥
- **1—á**: 8,760 —Å–≤–µ—á–µ–π –∑–∞ –≥–æ–¥
- **4—á**: 2,190 —Å–≤–µ—á–µ–π –∑–∞ –≥–æ–¥
- **1–¥**: 365 —Å–≤–µ—á–µ–π –∑–∞ –≥–æ–¥
- **1–Ω**: 52 —Å–≤–µ—á–∏ –∑–∞ –≥–æ–¥

**–ò–¢–û–ì–û –Ω–∞ 1 –º–æ–Ω–µ—Ç—É:** ~695,000 —Å–≤–µ—á–µ–π/–≥–æ–¥

#### –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–±—ä–µ–º–æ–º:

**–ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**
```
–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è MVP:
‚îú‚îÄ‚îÄ –¢–∞–π–º—Ñ—Ä–µ–π–º—ã: —Ç–æ–ª—å–∫–æ –∏–∑ —Ç–µ–∫—É—â–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ (1 –≤–º–µ—Å—Ç–æ 8)
‚îú‚îÄ‚îÄ –ú–æ–Ω–µ—Ç—ã: —Ç–æ–ø-50 –Ω–∞–∏–±–æ–ª–µ–µ –ª–∏–∫–≤–∏–¥–Ω—ã—Ö (–≤–º–µ—Å—Ç–æ 250)  
‚îú‚îÄ‚îÄ –ü–µ—Ä–∏–æ–¥: 3-6 –º–µ—Å—è—Ü–µ–≤ (–≤–º–µ—Å—Ç–æ –≥–æ–¥–∞)
‚îú‚îÄ‚îÄ –û–±—ä–µ–º –¥–∞–Ω–Ω—ã—Ö: ~500MB (–≤–º–µ—Å—Ç–æ 10GB+)
‚îî‚îÄ‚îÄ –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏: ~10 –º–∏–Ω—É—Ç (–≤–º–µ—Å—Ç–æ —á–∞—Å–æ–≤)
```

**–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞:**
```java
BacktestDataService:
‚îú‚îÄ‚îÄ –ó–∞–≥—Ä—É–∂–∞–µ–º —Ç–æ–ª—å–∫–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –ø–∞—Ä—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
‚îú‚îÄ‚îÄ –¢–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–π —Ç–∞–π–º—Ñ—Ä–µ–π–º –∏–∑ Settings  
‚îú‚îÄ‚îÄ –¢–æ–ª—å–∫–æ –∑–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—Ü–µ–Ω–∫—É: "~150MB –¥–∞–Ω–Ω—ã—Ö, –∑–∞–≥—Ä—É–∑–∫–∞ ~5 –º–∏–Ω—É—Ç"
‚îî‚îÄ‚îÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–∫–∞—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤
```

## üéõÔ∏è UI/UX –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥–∞

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π workflow:

#### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±—ç–∫—Ç–µ—Å—Ç–∞:
```
BacktestConfigurationPanel:
‚îú‚îÄ‚îÄ üìÖ –í—ã–±–æ—Ä –ø–µ—Ä–∏–æ–¥–∞: –∫–∞–ª–µ–Ω–¥–∞—Ä—å —Å –ø—Ä–µ—Å–µ—Ç–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ "–ü–æ—Å–ª–µ–¥–Ω–∏–µ 3 –º–µ—Å—è—Ü–∞"
‚îÇ   ‚îú‚îÄ‚îÄ "Q1 2024"  
‚îÇ   ‚îú‚îÄ‚îÄ "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø–µ—Ä–∏–æ–¥"
‚îú‚îÄ‚îÄ üí∞ –ù–∞—á–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å: input —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
‚îú‚îÄ‚îÄ üìã –í—ã–±–æ—Ä —Ç–æ—Ä–≥–æ–≤—ã—Ö –ø–∞—Ä:
‚îÇ   ‚îú‚îÄ‚îÄ "–í—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –ø–∞—Ä—ã" 
‚îÇ   ‚îú‚îÄ‚îÄ "–¢–æ–ø-20 –ø–æ –æ–±—ä–µ–º—É"
‚îÇ   ‚îú‚îÄ‚îÄ "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Å–ø–∏—Å–æ–∫"  
‚îú‚îÄ‚îÄ ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏:
‚îÇ   ‚îú‚îÄ‚îÄ "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏"
‚îÇ   ‚îú‚îÄ‚îÄ "–ó–∞–≥—Ä—É–∑–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π –ø—Ä–µ—Å–µ—Ç"
‚îÇ   ‚îú‚îÄ‚îÄ "–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ"
‚îî‚îÄ‚îÄ üìä –û—Ü–µ–Ω–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤: "~250MB –¥–∞–Ω–Ω—ã—Ö, ~7 –º–∏–Ω –∑–∞–≥—Ä—É–∑–∫–∏"
```

#### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö:
```
DataAvailabilityChecker:
‚îú‚îÄ‚îÄ –ê–Ω–∞–ª–∏–∑ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö –∑–∞ –ø–µ—Ä–∏–æ–¥
‚îú‚îÄ‚îÄ –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä: "–î–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã –Ω–∞ 87%"
‚îú‚îÄ‚îÄ –ö–Ω–æ–ø–∫–∞ "–ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ"  
‚îú‚îÄ‚îÄ –ü—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä –∑–∞–≥—Ä—É–∑–∫–∏ —Å –¥–µ—Ç–∞–ª—è–º–∏
‚îî‚îÄ‚îÄ –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∫–Ω–æ–ø–∫–∏ "–ó–∞–ø—É—Å–∫" —Ç–æ–ª—å–∫–æ –ø—Ä–∏ 100% –¥–∞–Ω–Ω—ã—Ö
```

#### 3. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:
```
BacktestProgressPanel:
‚îú‚îÄ‚îÄ üìà –û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å: "[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë] 78% (Jan 2024)"
‚îú‚îÄ‚îÄ üïí –í—Ä–µ–º—è: "–í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ: 15.03.2024, –û—Å—Ç–∞–ª–æ—Å—å: ~2 –º–∏–Ω"
‚îú‚îÄ‚îÄ üìä –ñ–∏–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏: "–ë–∞–ª–∞–Ω—Å: 12,450 USDT (+24.5%)"
‚îú‚îÄ‚îÄ üìã –õ–æ–≥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏: "14:23 - –û—Ç–∫—Ä—ã—Ç–∞ –ø–æ–∑–∏—Ü–∏—è BTC/ETH"
‚îî‚îÄ‚îÄ üéÆ –ö–æ–Ω—Ç—Ä–æ–ª—ã: [–ü–∞—É–∑–∞] [–°—Ç–æ–ø] [–£—Å–∫–æ—Ä–∏—Ç—å x10]
```

#### 4. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –æ—Ç—á–µ—Ç—ã:
```
BacktestResultsPanel:
‚îú‚îÄ‚îÄ üìä –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (–∫–∞—Ä—Ç–æ—á–∫–∏)
‚îÇ   ‚îú‚îÄ‚îÄ Total Return: "+24.5%"  
‚îÇ   ‚îú‚îÄ‚îÄ Sharpe Ratio: "1.87"
‚îÇ   ‚îú‚îÄ‚îÄ Max Drawdown: "-8.3%"
‚îÇ   ‚îî‚îÄ‚îÄ Win Rate: "67.3%"
‚îú‚îÄ‚îÄ üìà –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ Equity Curve —Å –∑—É–º–æ–º
‚îÇ   ‚îú‚îÄ‚îÄ Drawdown timeline  
‚îÇ   ‚îú‚îÄ‚îÄ Monthly returns heatmap
‚îú‚îÄ‚îÄ üìã –¢–∞–±–ª–∏—Ü–∞ —Å–¥–µ–ª–æ–∫ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
‚îú‚îÄ‚îÄ üíæ –≠–∫—Å–ø–æ—Ä—Ç: [PDF Report] [CSV Data] [–°–æ—Ö—Ä–∞–Ω–∏—Ç—å Preset]
‚îî‚îÄ‚îÄ üîÑ –î–µ–π—Å—Ç–≤–∏—è: [–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ] [–°—Ä–∞–≤–Ω–∏—Ç—å —Å –¥—Ä—É–≥–∏–º]
```

## ‚ö†Ô∏è –†–∏—Å–∫–∏ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### –¢–æ—á–Ω–æ—Å—Ç—å —Å–∏–º—É–ª—è—Ü–∏–∏:
```
–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –Ω–µ—Ç–æ—á–Ω–æ—Å—Ç–∏:
‚îú‚îÄ‚îÄ üìä Look-ahead bias: —Å–ª—É—á–∞–π–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±—É–¥—É—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ üïê Survivorship bias: —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ –Ω–∞ "–≤—ã–∂–∏–≤—à–∏—Ö" –ø–∞—Ä–∞—Ö  
‚îú‚îÄ‚îÄ üìà Overfitting: –ø–æ–¥–≥–æ–Ω–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–æ–¥ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ üåä Market regime changes: –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä—ã–Ω–æ—á–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π
‚îî‚îÄ‚îÄ üíª Implementation differences: –æ—Ç–ª–∏—á–∏—è —Å–∏–º—É–ª—è—Ü–∏–∏ –æ—Ç —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏
```

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
```
–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã:
‚îú‚îÄ‚îÄ üíæ –û–±—ä–µ–º –¥–∞–Ω–Ω—ã—Ö: –æ–≥—Ä–∞–Ω–∏—á–µ–Ω –¥–∏—Å–∫–æ–≤—ã–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ–º
‚îú‚îÄ‚îÄ üöÄ –°–∫–æ—Ä–æ—Å—Ç—å: –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ Python API
‚îú‚îÄ‚îÄ üîÑ –ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º: —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ —Å concurrent –æ–±—Ä–∞–±–æ—Ç–∫–æ–π  
‚îú‚îÄ‚îÄ üèóÔ∏è Scalability: —Ä–æ—Å—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –ø–∞—Ä
‚îî‚îÄ‚îÄ üêõ Debugging: —Å–ª–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ª–∞–¥–∫–∏ –≤ —É—Å–∫–æ—Ä–µ–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ
```

## üõ£Ô∏è –ü–ª–∞–Ω –ø–æ—ç—Ç–∞–ø–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –§–∞–∑–∞ 1: MVP (2-3 –Ω–µ–¥–µ–ª–∏)
```
–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∂–∏–∑–Ω–µ—Å–ø–æ—Å–æ–±–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç:
‚îú‚îÄ‚îÄ ‚úÖ –ë–∞–∑–æ–≤—ã–π UI –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±—ç–∫—Ç–µ—Å—Ç–∞  
‚îú‚îÄ‚îÄ ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –æ–±—ä–µ–º)
‚îú‚îÄ‚îÄ ‚úÖ BacktestTradingProvider —Å –±–∞–∑–æ–≤–æ–π —Å–∏–º—É–ª—è—Ü–∏–µ–π
‚îú‚îÄ‚îÄ ‚úÖ –ü—Ä–æ—Å—Ç–æ–π —Ä–∞—Å—á–µ—Ç –ø—Ä–æ—Ñ–∏—Ç–∞ (–∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–µ –¥–æ–ø—É—â–µ–Ω–∏—è)
‚îú‚îÄ‚îÄ ‚úÖ –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –∏ equity curve
‚îî‚îÄ‚îÄ ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ CSV
```

### –§–∞–∑–∞ 2: –£–ª—É—á—à–µ–Ω–∏—è (2-3 –Ω–µ–¥–µ–ª–∏)  
```
–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏:
‚îú‚îÄ‚îÄ üìä –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
‚îú‚îÄ‚îÄ üéõÔ∏è –ü—Ä–µ—Å–µ—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
‚îú‚îÄ‚îÄ ‚ö° –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏  
‚îú‚îÄ‚îÄ üîß –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ –º–æ–¥–µ–ª–∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è
‚îú‚îÄ‚îÄ üìà –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
‚îî‚îÄ‚îÄ üéÆ –£–ª—É—á—à–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç—Ä–æ–ª—ã —Å–∏–º—É–ª—è—Ü–∏–∏
```

### –§–∞–∑–∞ 3: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (3-4 –Ω–µ–¥–µ–ª–∏)
```
–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
‚îú‚îÄ‚îÄ üßÆ Monte Carlo —Å–∏–º—É–ª—è—Ü–∏–∏
‚îú‚îÄ‚îÄ üìä Walk-forward analysis  
‚îú‚îÄ‚îÄ üéØ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
‚îú‚îÄ‚îÄ üìà Multi-timeframe –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥
‚îú‚îÄ‚îÄ üîÑ Portfolio-level –º–µ—Ç—Ä–∏–∫–∏  
‚îî‚îÄ‚îÄ ü§ñ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤
```

---

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–î–∞–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:

‚úÖ **–ë—ã—Å—Ç—Ä–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –±–µ–∑ —Ä–∏—Å–∫–æ–≤  
‚úÖ **–†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã** —Å —É—á–µ—Ç–æ–º –∫–æ–º–∏—Å—Å–∏–π –∏ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è  
‚úÖ **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è** —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞  
‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏  
‚úÖ **–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—É—é –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å** –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤  

–°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª–∏—Ç –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ —É–ª—É—á—à–∞—Ç—å —Ç–æ—Ä–≥–æ–≤—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏, –æ—Å–Ω–æ–≤—ã–≤–∞—è—Å—å –Ω–∞ –æ–±—ä–µ–∫—Ç–∏–≤–Ω—ã—Ö –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö, —á—Ç–æ —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ –ø–æ–≤—ã—Å–∏—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–∞—Ä–Ω–æ–≥–æ —Ç—Ä–µ–π–¥–∏–Ω–≥–∞.